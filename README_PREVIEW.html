<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Blog API - README</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.light.min.css">
    <style>
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
        }
        @media (max-width: 767px) {
            .markdown-body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <article class="markdown-body">
        <h1>DevOps Blog API - Node.js/Express</h1>
        
        <p>Backend API cho DevOps Blog Platform Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Node.js, Express vÃ  Prisma ORM.</p>
        
        <h2>ğŸš€ Tech Stack</h2>
        <ul>
            <li><strong>Node.js</strong> - Runtime environment</li>
            <li><strong>Express.js</strong> - Web framework</li>
            <li><strong>Prisma</strong> - ORM cho database</li>
            <li><strong>MySQL</strong> - Database</li>
            <li><strong>JWT</strong> - Authentication</li>
            <li><strong>Argon2</strong> - Password hashing</li>
            <li><strong>Joi</strong> - Validation</li>
            <li><strong>Swagger</strong> - API documentation</li>
        </ul>
        
        <h2>ğŸ“‹ Prerequisites</h2>
        <ul>
            <li>Node.js &gt;= 16.x</li>
            <li>MySQL &gt;= 8.0</li>
            <li>npm hoáº·c yarn</li>
        </ul>
        
        <h2>ğŸ› ï¸ Installation</h2>
        <ol>
            <li>
                <p>Clone repository:</p>
                <div class="highlight highlight-source-shell"><pre>git clone &lt;repository-url&gt;
cd server-nodejs</pre></div>
            </li>
            <li>
                <p>Install dependencies:</p>
                <div class="highlight highlight-source-shell"><pre>npm install</pre></div>
            </li>
            <li>
                <p>Táº¡o file <code>.env</code>:</p>
                <div class="highlight highlight-source-shell"><pre>cp .env.example .env</pre></div>
            </li>
            <li>
                <p>Cáº­p nháº­t cÃ¡c biáº¿n mÃ´i trÆ°á»ng trong <code>.env</code>:</p>
                <div class="highlight highlight-source-dotenv"><pre>DATABASE_URL="mysql://user:password@localhost:3306/devopsblog"
JWT_ACCESS_SECRET=your-secret-key
JWT_REFRESH_SECRET=your-refresh-secret</pre></div>
            </li>
            <li>
                <p>Generate Prisma Client:</p>
                <div class="highlight highlight-source-shell"><pre>npm run prisma:generate</pre></div>
            </li>
            <li>
                <p>Run database migrations:</p>
                <div class="highlight highlight-source-shell"><pre>npm run prisma:migrate</pre></div>
            </li>
            <li>
                <p>Seed database (optional):</p>
                <div class="highlight highlight-source-shell"><pre>npm run prisma:seed</pre></div>
            </li>
        </ol>
        
        <h2>ğŸƒâ€â™‚ï¸ Running the Application</h2>
        <h3>Development</h3>
        <div class="highlight highlight-source-shell"><pre>npm run dev</pre></div>
        
        <h3>Production</h3>
        <div class="highlight highlight-source-shell"><pre>npm start</pre></div>
        
        <p>Server sáº½ cháº¡y táº¡i: <code>http://localhost:3001</code></p>
        
        <h2>ğŸ“ Project Structure</h2>
        <div class="highlight highlight-text"><pre>server-nodejs/
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma      # Prisma schema
â”‚   â””â”€â”€ seed.js            # Database seeding
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/            # Configuration
â”‚   â”œâ”€â”€ middlewares/       # Express middlewares
â”‚   â”œâ”€â”€ modules/           # Feature modules
â”‚   â”‚   â”œâ”€â”€ auth/          # Authentication
â”‚   â”‚   â”œâ”€â”€ posts/         # Blog posts
â”‚   â”‚   â”œâ”€â”€ categories/    # Categories
â”‚   â”‚   â”œâ”€â”€ tags/          # Tags
â”‚   â”‚   â”œâ”€â”€ comments/      # Comments
â”‚   â”‚   â””â”€â”€ users/         # Users
â”‚   â”œâ”€â”€ utils/             # Utilities
â”‚   â”œâ”€â”€ app.js             # Express app
â”‚   â””â”€â”€ server.js          # Entry point
â”œâ”€â”€ .env.example           # Environment variables example
â”œâ”€â”€ package.json
â””â”€â”€ README.md</pre></div>
        
        <h2>ğŸ”‘ API Endpoints</h2>
        <h3>Authentication</h3>
        <ul>
            <li><code>POST /api/auth/register</code> - ÄÄƒng kÃ½ user má»›i</li>
            <li><code>POST /api/auth/login</code> - ÄÄƒng nháº­p</li>
            <li><code>POST /api/auth/logout</code> - ÄÄƒng xuáº¥t</li>
            <li><code>POST /api/auth/refresh</code> - Refresh access token</li>
            <li><code>GET /api/auth/profile</code> - Láº¥y thÃ´ng tin user hiá»‡n táº¡i</li>
        </ul>
        
        <h3>Posts</h3>
        <ul>
            <li><code>GET /api/posts/published</code> - Láº¥y danh sÃ¡ch bÃ i viáº¿t Ä‘Ã£ publish (public)</li>
            <li><code>GET /api/posts/slug/:slug</code> - Láº¥y bÃ i viáº¿t theo slug (public)</li>
            <li><code>GET /api/posts/:id/related</code> - Láº¥y bÃ i viáº¿t liÃªn quan (public)</li>
            <li><code>GET /api/posts</code> - Láº¥y táº¥t cáº£ bÃ i viáº¿t (admin)</li>
            <li><code>GET /api/posts/stats</code> - Láº¥y thá»‘ng kÃª bÃ i viáº¿t (admin)</li>
            <li><code>GET /api/posts/:id</code> - Láº¥y bÃ i viáº¿t theo ID (admin)</li>
            <li><code>POST /api/posts</code> - Táº¡o bÃ i viáº¿t má»›i (admin)</li>
            <li><code>PUT /api/posts/:id</code> - Cáº­p nháº­t bÃ i viáº¿t (admin)</li>
            <li><code>DELETE /api/posts/:id</code> - XÃ³a bÃ i viáº¿t (admin)</li>
        </ul>
        
        <h2>ğŸ”’ Authentication</h2>
        <p>API sá»­ dá»¥ng JWT Bearer tokens cho authentication:</p>
        <ul>
            <li><strong>Access Token</strong>: Short-lived (15 phÃºt), gá»­i trong Authorization header</li>
            <li><strong>Refresh Token</strong>: Long-lived (7 ngÃ y), lÆ°u trong HTTP-only cookie</li>
        </ul>
        
        <h3>Sá»­ dá»¥ng:</h3>
        <div class="highlight highlight-source-js"><pre><span class="pl-c">// Gá»­i request vá»›i access token</span>
fetch(<span class="pl-s"><span class="pl-pds">'</span>/api/posts<span class="pl-pds">'</span></span>, {
  headers: {
    <span class="pl-s"><span class="pl-pds">'</span>Authorization<span class="pl-pds">'</span></span>: <span class="pl-s"><span class="pl-pds">'</span>Bearer &lt;access-token&gt;<span class="pl-pds">'</span></span>
  }
})</pre></div>
        
        <h2>ğŸ” Roles &amp; Permissions</h2>
        <ul>
            <li><strong>ADMIN</strong>: Full access</li>
            <li><strong>MODERATOR</strong>: Quáº£n lÃ½ content</li>
            <li><strong>EDITOR</strong>: Táº¡o vÃ  edit posts</li>
            <li><strong>VIEWER</strong>: Chá»‰ xem</li>
        </ul>
        
        <h2>ğŸ—ƒï¸ Database</h2>
        <p>Sá»­ dá»¥ng Prisma ORM vá»›i MySQL. Prisma Client Ä‘Æ°á»£c auto-generated tá»« schema.</p>
        
        <h3>CÃ¡c lá»‡nh Prisma:</h3>
        <div class="highlight highlight-source-shell"><pre>npm run prisma:generate    # Generate Prisma Client
npm run prisma:migrate     # Run migrations (dev)
npm run prisma:migrate:prod # Run migrations (production)
npm run prisma:studio      # Open Prisma Studio
npm run prisma:seed        # Seed database
npm run prisma:reset       # Reset database</pre></div>
        
        <h2>ğŸ”§ Environment Variables</h2>
        <table>
            <thead>
                <tr>
                    <th>Variable</th>
                    <th>Description</th>
                    <th>Default</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>NODE_ENV</code></td>
                    <td>Environment mode</td>
                    <td>development</td>
                </tr>
                <tr>
                    <td><code>PORT</code></td>
                    <td>Server port</td>
                    <td>3001</td>
                </tr>
                <tr>
                    <td><code>DATABASE_URL</code></td>
                    <td>MySQL connection string</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>JWT_ACCESS_SECRET</code></td>
                    <td>JWT access token secret</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>JWT_REFRESH_SECRET</code></td>
                    <td>JWT refresh token secret</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>JWT_ACCESS_EXPIRES_IN</code></td>
                    <td>Access token expiry</td>
                    <td>15m</td>
                </tr>
                <tr>
                    <td><code>JWT_REFRESH_EXPIRES_IN</code></td>
                    <td>Refresh token expiry</td>
                    <td>7d</td>
                </tr>
                <tr>
                    <td><code>CORS_ORIGIN</code></td>
                    <td>CORS allowed origin</td>
                    <td>http://localhost:3000</td>
                </tr>
            </tbody>
        </table>
        
        <h2>ğŸ“ License</h2>
        <p>MIT</p>
    </article>
</body>
</html>
